# â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ•—â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘
# â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
# â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
# â–‘â•šâ•â•â•â–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–‘â–‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
# â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–‘â•šâ•â–ˆâ–ˆâ•”â•â•â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–‘â•šâ•â•â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•‘
# â•šâ•â•â•â•â•â•â–‘â–‘â–‘â–‘â•šâ•â•â–‘â–‘â–‘â•šâ•â•â•â•â•â•â•â•šâ•â•â–‘â–‘â–‘â–‘â–‘â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â–‘â–‘â•šâ•â•â•šâ•â•â–‘â–‘â•šâ•â•
# ---------------------------------------------------------------------------------------------
# Name: MineEVO-logs
# Description: ĞŸĞ¾Ğ»ĞµĞ·Ğ½Ñ‹Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ Ğ´Ğ»Ñ Ğ»Ğ¾Ğ³Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ² Ğ±Ğ¾Ñ‚Ğµ @mine_evo_bot | Ğ”Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²ÑŒÑ‚Ğµ Ğ² ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğµ Ğ²Ğ°Ñˆ Ğ½Ğ¸Ğº
# Author: sqlmerr
# Commands:
# .mlogging
# ---------------------------------------------------------------------------------------------

# Ğ²ĞµÑ€ÑĞ¸Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ
__version__ = (1, 0, 0)
# meta developer: @sqlmerr_m
# only hikka

# Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒĞµĞ¼ Ğ½ÑƒĞ¶Ğ½Ñ‹Ğµ Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸
import asyncio

from telethon.tl.types import Message, ChatAdminRights
from telethon import events, functions, types

import logging

import re

from .. import loader, utils


logger = logging.getLogger(__name__)

# ÑĞ°Ğ¼ ĞºĞ»Ğ°ÑÑ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ
@loader.tds
class MineEVO_logs(loader.Module):
    """ĞŸĞ¾Ğ»ĞµĞ·Ğ½Ñ‹Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ Ğ´Ğ»Ñ Ğ»Ğ¾Ğ³Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ² Ğ±Ğ¾Ñ‚Ğµ @mine_evo_bot | Ğ”Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²ÑŒÑ‚Ğµ Ğ² ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğµ Ğ²Ğ°Ñˆ Ğ½Ğ¸Ğº"""
    # Ğ½ÑƒĞ¶Ğ½Ñ‹Ğµ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ
    strings = {
        "name": "MineEVO-logging",
        "status": "Ğ’ĞºĞ»ÑÑ‡ĞµĞ½ Ğ»Ğ¸ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ Ğ¸Ğ»Ğ¸ Ğ½ĞµÑ‚",
        "nickname": "Ğ’Ğ°Ñˆ Ğ½Ğ¸Ğº Ğ² Ğ±Ğ¾Ñ‚Ğµ (Ğ²Ğ°Ğ¶Ğ½Ğ¾)"
    }
    async def client_ready(self):
        # ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ÑÑ Ñ‡Ğ°Ñ‚
        self._mineevologs_channel, _ = await utils.asset_channel(
            self._client,
            "MineEVO-logs - Ñ‡Ğ°Ñ‚",
            "ĞĞµ Ğ¿Ğ¸ÑˆĞ¸Ñ‚Ğµ ÑÑĞ´Ğ°. Ğ­Ñ‚Ğ¾Ñ‚ Ñ‡Ğ°Ñ‚ Ğ¿Ñ€ĞµĞ´Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµÑ‚ Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ MineEVO-logs Ğ¾Ñ‚ @sqlmerr_m",
            silent=True,
            archive=True,
            _folder="hikka",
        )
        # Ğ² ÑÑ‚Ğ¾Ñ‚ Ñ‡Ğ°Ñ‚ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ÑÑ Ğ±Ğ¾Ñ‚ @mine_evo_bot
        await self.client(functions.channels.InviteToChannelRequest(self._mineevologs_channel, ['@mine_evo_bot']))
        # Ğ¸ ÑÑ‚Ğ¾Ğ¼Ñƒ Ğ±Ğ¾Ñ‚Ñƒ Ğ²Ñ‹Ğ´Ğ°ÑÑ‚ÑÑ Ğ¿Ñ€Ğ°Ğ²Ğ° Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ°, Ğ´Ğ»Ñ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾Ğ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ğ±Ğ¾Ñ‚Ğ°
        await self.client(functions.channels.EditAdminRequest(
                channel=self._mineevologs_channel,
                user_id="@mine_evo_bot",
                admin_rights=ChatAdminRights(ban_users=True, post_messages=True, edit_messages=True),
                rank="MineEVO-logs",
            )
        )
            

    # Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ, ÑĞ²ÑĞ·Ğ°Ğ½Ğ½Ğ°Ñ Ñ ĞĞĞŸ Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ°Ñ Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğ°
    def __init__(self):
        self.config = loader.ModuleConfig(
            loader.ConfigValue(
                "status",
                False,
                lambda: self.strings("status"),
                validator=loader.validators.Boolean()
            ),
            loader.ConfigValue(
                "nickname",
                "",
                lambda: self.strings("nickname"),
                validator=loader.validators.String()
            ),
        )

    # .mlogging
    @loader.command()
    async def mlogging(self, message: Message):
        """Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ/Ğ²Ñ‹ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Ğ»Ğ¾Ğ³Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ"""
        if self.config["nickname"] != "":
            self.config["status"] = not self.config["status"]
            status = (
                "Ğ›Ğ¾Ğ³Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾ <emoji document_id=5409048419211682843>ğŸ’²</emoji>"
                if self.config["status"]
                else "Ğ›Ğ¾Ğ³Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ²ĞºÑ‹Ğ»ÑÑ‡ĞµĞ½Ğ¾ <emoji document_id=5409048419211682843>ğŸ’²</emoji>"
            )

            await utils.answer(message, "<emoji document_id=5314346928660554905>âš ï¸</emoji> <b>{}</b>".format(status))
        else:
            await utils.answer(message, "<emoji document_id=5314346928660554905>âš ï¸</emoji> <b>Ğ›Ğ¾Ğ³Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ½Ğµ Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾, Ñ‚Ğ°Ğº ĞºĞ°Ğº Ğ²Ñ‹ Ğ½Ğµ ÑƒĞºĞ°Ğ·Ğ°Ğ»Ğ¸ Ğ² ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³Ğµ Ğ²Ğ°Ñˆ Ğ½Ğ¸Ğº Ğ² Ğ±Ğ¾Ñ‚Ğµ <emoji document_id=5409048419211682843>ğŸ’²</emoji></b>")
    
    @loader.watcher(only_pm=True, only_messages=True, from_id=5522271758)
    async def watcher(self, message: Message):
        if self.config["nickname"] != "":
            if self.config["status"]:
                #if self.config["nickname"] in message.raw_text:
                if "ğŸ“¦ Ğ¢Ñ‹ Ğ½Ğ°ÑˆĞµĞ»(Ğ»Ğ°) ĞšĞµĞ¹Ñ!" in message.raw_text or "âœ‰ï¸ Ğ¢Ñ‹ Ğ½Ğ°ÑˆĞµĞ»(Ğ»Ğ°) ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚." in message.raw_text or "ğŸ§§ Ğ¢Ñ‹ Ğ½Ğ°ÑˆĞµĞ»(Ğ»Ğ°) Ñ€ĞµĞ´ĞºĞ¸Ğ¹ ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚." in message.raw_text or "ğŸ—³ Ğ¢Ñ‹ Ğ½Ğ°ÑˆĞµĞ»(Ğ»Ğ°) Ğ ĞµĞ´ĞºĞ¸Ğ¹ ĞšĞµĞ¹Ñ!" in message.raw_text or "ğŸ’ Ğ¢Ñ‹ Ğ½Ğ°ÑˆĞµĞ»(Ğ»Ğ°) ĞšÑ€Ğ¸ÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ĞšĞµĞ¹Ñ!" in message.raw_text or "ğŸ•‹ Ğ¢Ñ‹ Ğ½Ğ°ÑˆĞµĞ»(Ğ»Ğ°) ĞœĞ¸Ñ„Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ĞšĞµĞ¹Ñ!" in message.raw_text or"Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ»(Ğ°) Ğ¸Ğ³Ñ€Ğ¾ĞºÑƒ" in message.raw_text or "Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ»(Ğ°) Ñ‚ĞµĞ±Ğµ" in message.raw_text:
                    await self.client.send_message(self._mineevologs_channel, message.text)
